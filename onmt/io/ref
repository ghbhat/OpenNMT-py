Code used from

https://github.com/shiweiba/PyOpenNMT/blob/master/onmt/IO.py
